<?xml version="1.0" encoding="UTF-8"?>
<Module>
  <ModulePrefs title="Lodha"
    description="Building a Better Life"
    height="700"
    author="Srikanth and Prashant"
    author_email="admin11@lodhagroup.in"
    author_location="Lodha Excelus,NM JOSHI MARG,Mumbai ">

    <!-- Declare feature dependencies. -->

    <!-- This one is not specific to Gmail contextual gadgets. -->
    <!--<Require feature="dynamic-height"/> -->
	<Require feature="opensocial-0.8" />
    <Require feature="oauthpopup" />
	
	 


	 <Require feature="google.contentmatch">
      <Param name="extractors">
        google.com:SenderEmailExtractor,google.com:SubjectExtractor,google.com:EmailBodyExtractor
      </Param>
    </Require>

  </ModulePrefs>
  <Content type="html" view="card">
    <![CDATA[
	 <style type="text/css">
         ul.form { width:100%; }
         ul.form li { list-style:none; padding:5px 10px; margin-left:50px; float:left; }
         ul.head { width:610px; }
         ul.head li { list-style:none; text-align:center; border-top:1px solid #333; border-right:1px solid #333; border-left:1px solid #333; }
         #report { border-collapse:collapse; font-family:Arial, Helvetica, sans-serif; font-size:12px;}
         #report h4 { margin:0px; padding:0px;}
         #report ul { margin:10px 0 10px 40px; padding:0px;}
         #report th { background:#7CB8E2 url(header_bkg.png) repeat-x scroll center left; color:#fff; padding:2px 5px; text-align:left;}
         #report td { background:#C7DDEE none repeat-x scroll center left; color:#000; padding:2px 5px; }
         #report tr.odd td { background:#fff url(row_bkg.png) repeat-x scroll center left; cursor:pointer; }
         #report div.arrow { background:transparent url(arrows.png) no-repeat scroll 0px -16px; width:16px; height:16px; display:block;}
         #report div.up { background-position:0px 0px;}
		 .tableStyle{font-size:13px;}
		 .tableStyle th{text-align:right;}
      </style>
     
 <style>
	  
	  </style>
 
      <style>
      
      /* Elegant Aero */
.elegant-aero {
	width: 400px;
	margin-right: auto;
	margin-left: 5px;
	background: #DDF0F8;
	padding: 30px 30px 20px 30px;
	box-shadow: #868686 0 0px 10px -1px;
	-webkit-box-shadow: #868686 0 0px 10px -1px;
	font: 12px Arial, Helvetica, sans-serif;
	color: #666;
}
.elegant-aero  h1{
	font: 24px "Trebuchet MS", Arial, Helvetica, sans-serif;
	padding: 20px 10px 20px 30px;
	display: block;
	background: #D0E6F0;
	margin-top: -30px;
	margin-left: -30px;
	margin-right: -30px;
	border-bottom: 1px solid #B9E1F1;
}
.elegant-aero h1>span {
	display: block;
	font-size: 11px;
}

.elegant-aero label>span {
	float: left;
	margin-top: 10px;
	color: #5E5E5E;
}
.elegant-aero label {
	display: block;
	margin: 0px 0px 5px;
	
}
.elegant-aero label>span {
	float: left;
	width: 100px;
	text-align: left;
	padding-right: 10px;
	margin-top: 10px;
	font-weight: bold;
}
.elegant-aero input[type="text"], .elegant-aero input[type="email"], .elegant-aero textarea, .elegant-aero select {
	color: #888;
	width: 65%;
	padding: 5px 4px 0px 5px;
	margin-top: 2px;
	margin-right: 6px;
	margin-bottom: 16px;
	border: 1px solid #CEE2E7;
	background: #FBFBFB;
	outline: 0;
	-webkit-box-shadow: inset 1px 1px 2px rgba(200, 200, 200, 0.2);
	box-shadow: inset 1px 1px 2px rgba(200, 200, 200, 0.2);
	font: 200 15px/15px Arial, Helvetica, sans-serif;
}
.elegant-aero textarea{
	height:100px;
}
.elegant-aero select {
    background: #fbfbfb url('https://axis222.googlecode.com/svn/down-arrow.png') no-repeat right;
    background: #fbfbfb url('https://axis222.googlecode.com/svn/down-arrow.png') no-repeat right;
   appearance:none;
    -webkit-appearance:none; 
   -moz-appearance: none;
    text-indent: 0.01px;
    text-overflow: '';
	width: 67%;
}
.elegant-aero .button{
	padding: 10px 12px 10px 12px;
	background: #66C1E4;
	border: none;
	color: #FFF;
}
.elegant-aero .button:hover{
	background: #3EB1DD;
}
 .button1{
	padding: 10px 12px 10px 12px;
	background: #66C1E4;
	border: none;
	color: #FFF;
}
.button1:hover{
	background: #3EB1DD;
}
	  
.container
{
overflow:hidden;
text-align:center;
vertical-align:middle;
}

.inner
{
overflow:hidden;width: 2000px;

}

.column
{
	font-size: 11px;
	color: #5E5E5E;
	background: #D0E6F0;

float:left;
width:70px;
height:30px;
border:1px solid;
}

.summ
{

width:1000px;


}

.container h1{
	font: 24px "Trebuchet MS", Arial, Helvetica, sans-serif;
	padding: 20px 10px 20px 30px;
	display: block;
	background: #D0E6F0;
	border-bottom: 1px solid #B9E1F1;
	 width: 250px;
}
      
      
      
.hideselect
{
display:none;
}

.showselect
{
display:block;

}
      
      </style>
      <!-- Start with Single Sign-On -->
    <!--  <script type="text/javascript" src="https://example.com/gadgets/sso.js"></script> --> 
	<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js'></script>
	  <script type='text/javascript' src="https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
      <link rel="stylesheet" href="https://code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css">
	
	  <script type="text/javascript">
//Changing here 
		var crn_no;
		
		
		function getBasicDetails(email1_id)
		{
			//var url = "https://172.29.7.37:8443/lodhagadgetsalesforce/rest/test/get/" +email_id+"?callback=";
			//Changed by PT 
			var urlssss = "https://172.29.7.37:8443/lodhagadgetsalesforce/rest/test/get/"+email1_id;

			$.ajax({  
				type: "GET",
				contentType: "application/json",
				// Content-Type:             "application/json",
				//url: "http://172.29.7.37:8280/lodhagadgetsalesforce/rest/test/jet",
				// url: "http://localhost:8080/lodhagadgetsalesforce/rest/test/jet",
				//url:"http://localhost:8080/lodhagadgetsalesforce/rest/test/get/",
				// url:"http://localhost:8080/lodhagadgetsalesforce/rest/test/jet/",
				url:urlssss,
				dataType: "jsonp",
				//     jsonp: 'callback',
				data : {"email_id":email1_id},
				jsonpCallback: 'AccountDetail',
				// lovelyjohn1974@gmail.com
				beforeSend: function(xhr) {
					xhr.setRequestHeader("Accept", "application/json");
					xhr.setRequestHeader("Content-Type", "application/json");
					xhr.setRequestHeader('Access-Control-Allow-Origin', '*');
					xhr.setRequestHeader('Access-Control-Allow-Methods', 'GET');
				},
				success: function(data){ 
				
					if(data.flatno !="" && data.flatno !="null")
					{					
               crn_no = data.crn_no;
			   
						var html = "";
						html += "<br/><ul>";
						html += "<li> <b>Flat Number : </b>"+ data.flatno + "</li>";
						html += "<li> <b> Mobile Number: </b>"+ data.mobile_no + "</li>";
						html += "<li> <b> Project Name: </b>" + data.project_name + "</li>";
						html += "<li> <b> Email: </b>"+ email1_id + "</li>";
			  html += "<li> <b> CRN Number: </b>"+ data.crn_no + "</li>"
						html+= "</ul>";
					
					  document.getElementById('content_div').innerHTML = html;
											   //alert(data.flatno);
													//alert(data.mobile_no);
												   // alert(data.project_name);
					}

				 },
				 error : function(json){
					 
					for(var i = 0; i < json.length; i++) {
						var obj = json[i];

						console.log(obj);
					}
					 
					 
				 }
			 });
			
		
		}
		
		
		function getRegisteredUser(email_id3)
		{
		
		var casenos =	$("input:radio[name='casenum']:checked").val();
				var urlreguser ="https://172.29.7.37:8443/lodhagadgetsalesforce/getRegUser.jsp";
				var formData3 = {emid:email_id3};
		  //  alert("CALLING NEW CASE ");
				
				$.ajax({ 
					type: "GET",
					contentType: "application/json;charset=UTF-8",
					mimeType: 'application/json;charset=UTF-8',
					url:urlreguser,
					data: formData3 ,
					dataType: "jsonp",
					async:   false,
					jsonpCallback: 'person',
					// lovelyjohn1974@gmail.com
					beforeSend: function(xhr) {
						xhr.setRequestHeader("Accept", "application/json");
						xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
						xhr.setRequestHeader('Access-Control-Allow-Origin', '*');
						xhr.setRequestHeader('Access-Control-Allow-Methods', 'GET');
					},
						success: function(data){ 
							return data.result;
						},
						error : function(d){
							alert("ERR...");
						}
				});
		  
			
		
		}
		
		//Function will search for the random values
		function getBasicRandomDetails(params){
			
		var urlz ="https://172.29.7.37:8443/lodhagadgetsalesforce/rest/test/get/random/"+params;

			 
			// $("p:contains('" + vtxt + "')").addClass("on");



    $.ajax({  type: "GET",
              contentType: "application/json",
             // Content-Type:             "application/json",
             //url: "http://172.29.7.37:8280/lodhagadgetsalesforce/rest/test/jet",
             // url: "http://localhost:8080/lodhagadgetsalesforce/rest/test/jet",
             //url:"http://localhost:8080/lodhagadgetsalesforce/rest/test/get/",
             // url:"http://localhost:8080/lodhagadgetsalesforce/rest/test/jet/",
              url:urlz,
              dataType: "jsonp",
              //     jsonp: 'callback',
               data : {"email_id":"lovelyjohn1974@gmail.com"},
               jsonpCallback: 'AccountDetail',
               // lovelyjohn1974@gmail.com
			beforeSend: function(xhr) {

        xhr.setRequestHeader("Accept", "application/json");

        xhr.setRequestHeader("Content-Type", "application/json");

                                  xhr.setRequestHeader('Access-Control-Allow-Origin', '*');
                                                  
          xhr.setRequestHeader('Access-Control-Allow-Methods', 'GET');
    },
             success: function(data){
			 var sText = '';
         	sText += "<form name=\"form1\"><table id=\"report\" cellpadding=\"0\" cellspacing=\"0\">";
         	sText += "<tr><th>Action</th><th>Name</th><th></th></tr>";
         	
				/*for(var i = 0; i < data.list.length; i++)
				{
					var product = data.list[i];
					//alert(.crn_no);
				
				    var html = "";
					html += "<br/><ul>";
					html += "<li> <b>Flat Number : </b>"+ product.flatno + "</li>";
					html += "<li> <b> Mobile Number: </b>"+ product.mobile_no + "</li>";
					html += "<li> <b> Project Name: </b>" + product.project_name + "</li>";
					html += "<li> <b> Email: </b>"+ "ADSSD" + "</li>";
					html += "<li> <b> CRN Number: </b>"+ product.crn_no + "</li>"
					html += "<li> <b> Customer Name: </b>"+ product.cusname + "</li>"
				    html+= "</ul>";
			    
				}PT
		*/
			    	$.each(data.list, function (index, value) {
         		sText += "<tr class=\"odd\" title=\"\" id="+index+"><td><input type=\"checkbox\" name=\"cb\" id='cb"+index+"' value=\"" + data.list[index].crn_no + "\" /></td>";
         		sText += "<td>" + data.list[index].crn_no + "</td>";
         		sText += "<td>" + data.list[index].cusname + "</td>";
         		sText += "<td><div class=\"arrow\"></div></td></tr>";
         		sText += "<tr style=\"display: none;\"><td colspan=\"5\"><table width=\"100%\">";
         		sText += "<tr><th>CRN</th><th>Mobile</th><th>Project Name</th><th>Address</th></tr>";
         		sText += "<tr>";
				sText += "<td></td>";
				/*
         		sText += "<td>" + data.list[index].mobile + "</td>";
         		sText += "<td>" + data.list[index].booking + "</td>";
				sText += "<td>" + data.list[index].address + "</td></tr>";
         		sText += "</table></td></tr>";
                  */ });
         	sText += "</table></form>";
				//  document.getElementById('content_div').innerHTML = html;
				  document.getElementById('content_div').innerHTML = sText;

   


                                                 //alert(data.flatno);
                                                //alert(data.mobile_no);
                                               // alert(data.project_name);


             },
             error : function(json){
                 
                for(var i = 0; i < json.length; i++) {
    var obj = json[i];

    console.log(obj);
			}       
             }
			 
			 
			 
			 
         });
		 }
	
//	Function to hover on	
		   $(".odd").tooltip({

/*
		html += "<li> <b>Flat Number : </b>"+ product.flatno + "</li>";
					html += "<li> <b> Mobile Number: </b>"+ product.mobile_no + "</li>";
					html += "<li> <b> Project Name: </b>" + product.project_name + "</li>";
	*/   track: true,
content: function () { 
var innerTable = "<table cellpadding=\"0\" cellspacing=\"0\" class=\"tableStyle\">";
         	innerTable += "<tr><th>CRN :</th><td></td></tr>";
			innerTable += "<tr><th>Mobile :</th><td>" + data.list[this.id].flatno + "</td></tr>";
			innerTable += "<tr><th>Project Name :</th><td>" + data.list[this.id].mobile_no + "</td></tr>";
         	innerTable += "<tr><th>Address :</th><td>" + data.list[this.id].project_name + "</td></tr></table>";
return innerTable; 
} 
}); 
		 
		$(document).ready(function(){
     // alert("loc" +parent.window.document.location);
   //  var matched  =   window.parent.location.hash.match(/[A-Za-z0-9]+$/);
  //   var matched  =   window.location.hash;
   // alert(matched);
    
			//$('head').append('<link rel="stylesheet" href="https://axis222.googlecode.com/svn/stylesheet.css" />');
   
			$("#Create_Case1").hide();
			$("#ATTACHTOCASE").hide();
			
			//GLOBAL SEARCH BUTTON
			$("#SUBMITSEARCH").click(function()
			{
       //  alert("CALLED");
         // getBasicDetails(email_id);
			 //  getRegisteredUser(email_id);
			 var params = $("#inpname").val();
			 if(params.indexOf(".") >= 0)
			 {
				params = params.replace(".","dot");
				//alert(params);
			 } 
			 
			getBasicRandomDetails(params);
			
			});
			
			
				//logic for dynamic combo

$("#reql1").change(function() {
var classes = $(this).find('option:selected').attr("class");
//var class = ('#reql1
$('#reql2 > option').each(function(){

	if( $(this).attr('class') == classes )
	{
	//alert( $(this).attr('class'));
		$(this).removeClass("hideselect").addClass("showselect");
	
	//$(this).removeClass("hideselect").addClass("showselect");
	
	}
	else
	{
	$(this).removeClass("showselect").addClass("hideselect");
	//$(this).removeClass("showselect").addClass("hideselect");
	
	}

//alert(this.text + ' ' + this.value);
});
});

$("#reql2").change(function() {

$('#reql2 > option').each(function(){
$(this).removeClass("hideselect");

});
});

$("#reql2").focusout(function() {

$('#reql2 > option').each(function(){
$(this).removeClass("hideselect");

});
});




$("#reql1").focus(function() {

$('#reql2 > option').each(function(){
$(this).removeClass("hideselect");

});
});

			//logic for dynamic combo
			
			
			
			
			
   //   alert("CALLING POST");
 //     makePOSTRequest();
			  // alert("xya"+location.href);
          //  alert("xyz"+location.pathname);
            
             var loc = window.location;
    var pathName = loc.pathname.substring(0, loc.pathname.lastIndexOf('/') + 1);
    //return loc.href.substring(0, loc.href.length - ((loc.pathname + loc.search + loc.hash).length - pathName.length));
            //alert("loc is "+loc+pathName);
           // alert(loc.href.substring(0, loc.href.length - ((loc.pathname + loc.search + loc.hash).length - pathName.length)));
            
			 /* $("#submitattach").click(function()
                        { 
                                var casenos =   $("input:radio[name='casenum']:checked").val();
                                var urlcases ="https://172.29.7.37:8443/lodhagadgetsalesforce/rest/crn/attach/"+casenos+"";

                                $.ajax({ 
                                                type: "GET",
                                                contentType: "application/json",
                                                url:urlcases,
                                                dataType: "jsonp",
                                                //jsonp: 'callback',
                                                data : {"case_no":casenos},
                                                jsonpCallback: 'AccountDetail',
                                                beforeSend: function(xhr) {
                                                        xhr.setRequestHeader("Accept", "application/json");
                                                        xhr.setRequestHeader("Content-Type", "application/json");
                                                        xhr.setRequestHeader('Access-Control-Allow-Origin', '*');
                                                        xhr.setRequestHeader('Access-Control-Allow-Methods', 'GET');
                                                },
                                                success: function(data){ 
                                                        alert(data.result);
                                                },
                                                error : function(d){
                                                        alert("ERR...");
                                                }
                                });
                        });
        
         
         */
         
         
         
			//Create Attachment NEw call
         
			$("#submitattach").click(function()
			{ 	
				//Changed request parameter names //pt
			  
			   //alert(url1);
			   //alert(formData);
				var caseurl1 =location.href;
				var casenos =	$("input:radio[name='casenum']:checked").val();
				var urlcases1 ="https://172.29.7.37:8443/lodhagadgetsalesforce/createAttachment.jsp";
				var formData = {Caseno:casenos,casebody:email_body,sub:subject};
			 //alert("CALLING NEW CASE ");
				//alert(subject);
				$.ajax({ 
					type: "GET",
					contentType: "application/json;charset=UTF-8",
					mimeType: 'application/json;charset=UTF-8',
					url:urlcases1,
					data: formData ,
					dataType: "jsonp",
					async:   false,
					jsonpCallback: 'person',
					// lovelyjohn1974@gmail.com
					beforeSend: function(xhr) {
						xhr.setRequestHeader("Accept", "application/json");
						xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
						xhr.setRequestHeader('Access-Control-Allow-Origin', '*');
						xhr.setRequestHeader('Access-Control-Allow-Methods', 'GET');
					},
						success: function(data){ 
							alert(data.result);
						},
						error : function(d){
							alert("ERR...");
						}
				});
			});
			
						
			//Create Case button on click div will show up and hide all other divs
			$("#CREATECASE111111").click(function(){

				$("#ATTACHTOCASE").hide();
				$("#Create_Case1").show();

			});
	  
			//Add to attachment click case start	
			$("#ADDTOEXIST").click(function(){ 
  
				$("#Create_Case1").hide();
				$("#ATTACHTOCASE").show(); 
	
			  crn_no = $('input[name="cb"]:checked').val();
	
				//Code to add the existing case 
				//Dynamic crn_no
				//var urlcases ="https://172.29.7.37:8443/lodhagadgetsalesforce/rest/crn/getcases/"+"1210055";
				var urlcases ="https://172.29.7.37:8443/lodhagadgetsalesforce/rest/crn/getcases/"+crn_no+"";


				$.ajax({ 
					type: "GET",
					contentType: "application/json",
					url:urlcases,
					dataType: "jsonp",
					//     jsonp: 'callback',
					data : {"crn_no":crn_no},
					jsonpCallback: 'AccountDetail',
					beforeSend: function(xhr) {
						xhr.setRequestHeader("Accept", "application/json");
						xhr.setRequestHeader("Content-Type", "application/json");
						xhr.setRequestHeader('Access-Control-Allow-Origin', '*');
						xhr.setRequestHeader('Access-Control-Allow-Methods', 'GET');
					},
					success: function(data){ 
					 //alert(data.list);
							var split;
							var caseno;
							var status;
							var caseage;
							var casesum;
												
							 for(var i = 0; i < data.list.length; i++)
							{
								var product = data.list[i];
							  // 	$('#ListOfCases').append('<option value="'+product+'" >'+product+'</option>');
								var product = data.list[i];
								split = product.split(';');

								caseno = split[0];
								status = split[1];
								caseage = split[2];
								casesum =  split[3]; 
                        reql1 =  split[4]; 
                        reql2 =  split[5]; 

								var html = $("<div class='inner'>").append($("<div class='column' >")
								.append('<input type="radio" name="casenum" value ='+caseno+' />')
								);
							
								var html2 = $("<div class='column'>").append("<label>"+caseno+"</label>") ;
								$("#container").append(html);
							
								var html3 = $("<div class='column'>").append("<label>"+caseage+"</label>") ;
								$("#container").append(html);
								
								var html1 = $("<div class='column'>").append("<label>"+status+"</label>") ;
								$("#container").append(html);

								var html4 = $("<div class='column summ'>").append("<label>"+casesum+"</label>") ;
								$("#container").append(html);
								
               var html5 = $("<div class='column'>").append("<label>"+reql1+"</label>") ;
								$("#container").append(html);
								   
            var html6 = $("<div class='column'>").append("<label>"+reql2+"</label>") ;
								$("#container").append(html);
								
      
      
      
								html2.appendTo(html);
								html1.appendTo(html);
								//html2.appendTo(html);
								html3.appendTo(html);
								//html4.appendTo(html);
                        
                        html5.appendTo(html);
                        html6.appendTo(html);
							}
					},
					error : function(d){
						alert("ERR...");
					}
					});	
				//$('#ListOfCases').append('<option value="foo" selected="selected">Foo</option>');
				//alert("Work in progress..."); 
			});	
 	//Add to attachment click case end	
		
 
		//Create Case click case Start	
			$("#CREATECASE").click(function(){
				//   alert("clciked button");
            alert(email_id);
				var url1 = "https://172.29.7.37:8443/lodhagadgetsalesforce/createjsonCase.jsp";
				//Changed request parameter names //pt
				var formData = {natreq:$("#natreq option:selected").val(),commty:$("#commty option:selected").val(),intmd:$("#intmd option:selected").val(),reql1:$("#reql1 option:selected").val(),reql2:$("#reql2 option:selected").val(),caset:$("input:radio[name='casetype']:checked").val(),sub:subject,email:email_id };
			   //alert(url1);
			   //alert(formData);
				
				$.ajax({ 
					type: "GET",
					contentType: "application/json;charset=UTF-8",
					mimeType: 'application/json;charset=UTF-8',
					url:url1,
					data: formData ,
					dataType: "jsonp",
					async:   false,
					jsonpCallback: 'person',
					// lovelyjohn1974@gmail.com
					beforeSend: function(xhr) {
						xhr.setRequestHeader("Accept", "application/json");
						xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
						xhr.setRequestHeader('Access-Control-Allow-Origin', '*');
						xhr.setRequestHeader('Access-Control-Allow-Methods', 'GET');
					},
					success: function(data){ 
						alert("Result for create case is " + data.result);
					},
					error : function(json){
					   alert("Error occured "+json);
					}
				});
				function person(jss){}
			}); 
			//Create Case click case END
			
		/***************************************************************************************************************/
		//Get the matched content from the email START
		/***************************************************************************************************************/
       // Fetch the array of content matches. 
        matches = google.contentmatch.getContentMatches();
        var matchList = document.createElement('UL');
        var listItem;
        var extractedText;
		var email_id;
		var subject;
		var email_body;
        //<!-- Iterate through the array and display output for each match. -->
        for (var match in matches) {
			for (var key in matches[match]) {
				listItem = document.createElement('LI');
				 //extractedText1 = document.createTextNode(key + ": " + matches[match][key]);
				if( key =="sender_email")
				{
					email_id =matches[match][key];
					email_id =  email_id.replace('.','dot');
				}
				if(key == "email_body")
				{
					email_body =matches[match][key];    
				}
				if(key == "subject")
				{
					subject =matches[match][key];
        //   alert(subject);    
				}
            
           
				//extractedText = document.createTextNode("PTPT:::"+email_id + ": " + email_body )

				//listItem.appendChild(extractedText);//comment later
				
			//	listItem.appendChild(extractedText1);//comment later
				
			//	matchList.appendChild(listItem);//comment later
            }
        }
		//alert("email_id is "+email_id);
		//alert("email_id is "+email_body);
		
        /***************************************************************************************************************/
		//Get the matched content from the email END
		/***************************************************************************************************************/
		//document.body.appendChild(matchList);//comment lkater
		//$("#SEARCHME").click(function(){ 
		//alert("Calling the attach to case ");

  
		var email_id1 =  email_id.replace('dot','.');// Hardcod
		//alert("email_id is "+email_id);
		getBasicDetails(email_id);
	//	var bool = getRegisteredUser(email_id);
      //alert(bool+email_id);
	//	if(bool =="YES")
	//	{
     // alert(bool+email_id);
		//	getBasicDetails(email_id);
		
		
		//} //bool condition ends here....
		
         
       //  });//end of button clieck
  function AccountDetail(json)
  {             
                for(var i = 0; i < json.length; i++) {
    var obj = json[i];

    console.log(obj.flatno);}}
  });




	/*
        <!-- Fetch the array of content matches. -->
        matches = google.contentmatch.getContentMatches();
        var matchList = document.createElement('UL');
        var listItem;
        var extractedText;

        <!-- Iterate through the array and display output for each match. -->
        for (var match in matches) {
          for (var key in matches[match]) {
             listItem = document.createElement('LI');
             extractedText = document.createTextNode(key + "PTPT: " + matches[match][key]);
             //listItem.appendChild(extractedText);
            // matchList.appendChild(listItem);
           
	        }
        }
       // document.body.appendChild(matchList);
     //   gadgets.window.adjustHeight(100);
	 */
		   function showEmail(){
          alert("work in progress");
	  
        }
		function makeJSONRequest(){
          alert("work in progress make json request");
        }
    
		

      </script>
 
 <input type="text" id="inpname" />
  <input type="SUBMIT" id="SUBMITSEARCH" value ="Search" class="button1"  />
  
  </br>
  </br>
  </br>
  
<div id="content_div"> </div> 	  
	        
      
	    <input type="button" id="CREATECASE111111" class="button1" value="Create Case" />  
		   
        <input type="button" id ="ADDTOEXIST"class="button1" value="Add to Existing Case" /> 
	  <div id="Create_Case1">
	<form action="" method="GET" class="elegant-aero">
    <h1>Lodha 
    	
    </h1>
    <label>
      <span>Case Type:</span>
         
    
    </label>
    <div style="margin=5px;">
	<input type="radio" name="casetype" id="rdobuy" value="2"/>Multiple request
      <input type="radio" name="casetype" value="1"/>Single Request
	 </div>
    </br>
    <label>
    	<span>Interaction Mode:</span>
        <select name="intmd" id ="intmd" > 
			 <option value="1" >--None--</option>
			 <option value="2" >Email </option>
			 <option value="3" >Call</option>
			 <option value="4" >Walkin</option>
			 <option value="5" >Letter</option>
			 <option value="6" >Mobile</option>
		 </select>
    </label>
    
    <label>
    	<span>Communication Type:</span>
        <select name="commty" id ="commty" width="20">
			 <option value="1" >--None--</option>
			 <option value="2" >Inbound</option>
	    	 <option value="3" >Outbound</option>
		 </select>
    </label>
    
    <label>
    	<span>Nature Of Request:</span>
       <select name="natreq"  id ="natreq" width="20">
		  <option value="1" >--None--</option>
		  <option value="2" >Request</option>
		  <option value="3" >Complaint</option>
		  <option value="4" >Query</option>
		  <option value="5" >Feedback</option>
		  <option value="6" >Repeat</option>
		  <option value="7" >Appreciation</option>
		  <option value="8" >Grievance</option>
		</select>
    </label> 
     <label>
    	<span>Request for L1:</span>
		 <select name="reql1" id="reql1"  width="20">
              <option value="1" class="none1">--None--</option>
		<option value="2" class="none2">Cancellation Related</option>
		<option value="3" class="none3" >Collections Related</option>
		<option value="4" class="none4">Document Related</option>
		<option value="5" class="none5">Brokerage related</option>
		<option value="6" class="none6">Collections Related - CV & ST & Interest</option>
		<option value="7" class="none7">Collections Related - SDR</option>
		<option value="8" class="none8">Customer IT Tools</option>
		<option value="9" class="none9">Legal case</option>
		<option value="10" class="none10">Misselling</option>
		<option value="11" class="none11">Possessions Related</option>
		<option value="12" class="none12">Registration Related</option>
		<option value="13" class="none13">Schemes/Initiatives/Events/Campaigns</option>
		<option value="14" class="none14">Transfers</option>
		<option value="15" class="none15">Updation of info on systems</option>
		<option value="16" class="none16">Welcome calling</option>
	 </select>
    </label>    
	 <label>
    	<span>Request for L2:</span>
		  <select name="reql2" id="reql2"  width="20">
         <option value="1" class="none1"> --None--</option>
		<option class="none2" value="2">Procedural information</option>
		<option class="none2" value="3">Refund in normal cases</option>
		<option class="none2" value="4">Refund in exceptional cases</option>
		<option class="none2" value="5">Booking to be cancelled with appropriate forfeiture</option>
		<option class="none2" value="6">Booking to be retained with balance payment with interest</option>
		<option class="none2" value="7">Deviation to be sought to enable retention</option>
		<option class="none2" value="8">Retention in progress within policy timelines</option>
		<option class="none3" value="9">Payment info on portal</option>
		<option class="none3" value="10">Interest Waiver</option>
		<option class="none3" value="11">Payment Procedure related</option>
		<option class="none3" value="12">Specialized Registration Procedure related</option>
		<option class="none3" value="13">TDS Authorization</option>
		<option class="none3" value="14">TDS Challan</option>
		<option class="none4" value="15">Customer wants original document</option>
		<option class="none4" value="16">Customer wants duplicate document</option>
		<option class="none4" value="17">Pick up to be arranged to collect the document</option>
		<option class="none4" value="18">Document despatched by customer</option>
		<option class="none4" value="19">Document not delivered</option>
		<option class="none4" value="20">Mistake in document delivered</option>
		<option class="none4" value="21">Delay in delivery of document</option>
		<option class="none4" value="22">Call back the document sent by Lodha</option>
		<option class="none4" value="23">Document received by customer</option>
		<option class="none4" value="24">Document in transit to customer</option>
		<option class="none4" value="25">Clearance required before document despatch</option>
		<option class="none5" value="26">Brokerage related</option>
		<option class="none6" value="27">PTP</option>
		<option class="none6" value="28">Already made</option>
		<option class="none6" value="29">Will not pay</option>
		<option class="none6" value="30">Not contactable</option>
		<option class="none7" value="31">SDR - PTP</option>
		<option class="none7" value="32">SDR- Already made</option>
		<option class="none7" value="33">SDR- Will not pay</option>
		<option class="none7" value="34">SDR- Not contactable</option>
		<option class="none8" value="35">Campaign related</option>
		<option class="none8" value="36">Construction Updates</option>
		<option class="none8" value="37">Login/Data related</option>
		<option class="none9" value="38">Ongoing legal case</option>
		<option class="none9" value="39">Potential Legal case</option>
		<option class="none10" value="40">After Sales order creation</option>
		<option class="none10" value="41">Before Sales order creation</option>
		<option class="none11" value="42">Pre-possession</option>
		<option class="none11" value="43">Post-possession</option>
		<option class="none11" value="44">Procedure related</option>
		<option class="none11" value="45">Site visit related</option>
		<option class="none12" value="46">Clause related</option>
		<option class="none12" value="47">Scheduling (SDR already paid)</option>
		<option class="none12" value="48">SDR Charges related</option>
		<option class="none13" value="49">MyGain facility/ADF facility/Amnesty/Dollar product/Home loan interest offer</option>
		<option class="none13" value="50">Loyalty campaign/Referrals - Pre launch</option>
		<option class="none13" value="51">Loyalty campaign/Referrals - Post launch</option>
		<option class="none13" value="52">Loyalty campaign/Referrals - Post possession</option>
		<option class="none13" value="53">Customer Care event</option>
		<option class="none13" value="54">Marketing event</option>
		<option class="none13" value="55">Gifts</option>
		<option class="none14" value="56">Customer initiated transfer</option>
		<option class="none14" value="57">Lodha Initiated transfer</option>
		<option class="none15" value="58">SAP</option>
		<option class="none15" value="59">SFDC</option>
		<option class="none16" value="60">Booking Confirmation</option>                      

	 </select>
		 
    </label>    
     <label>
    	<span>&nbsp;</span> 
		   <input type="button" id="CREATECASE" class="button" value="Submit" />  
		   
        
    </label>    
</form>
</div>


<div id="ATTACHTOCASE">


<div class="container" id="container" >
<h1>
Attachment
</h1>
<div class="inner">
<div class ="column headss">
	 &nbsp
     </div>
     <div class ="column headss">
	 Case No
     </div>
     <div  class ="column headss">
	 Status
     </div>
     <div  class ="column headss">
	 Case Age
     </div>
<div  class ="column headss">
	 Request L1
     </div>
<div  class ="column headss">
	 Request L2
     </div>
    
  </div>
  </div>




<input type="SUBMIT" value="SUBMIT" id="submitattach" class ="button1" />



</div>
    ]]>
  </Content>
</Module>